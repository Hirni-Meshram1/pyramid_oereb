<%page args="public_law_restriction"/>
<%
    from pyramid_oereb import route_prefix
    # PLR without legal provision is allowed in reduced extract only!
    if params.flavour != 'reduced' and isinstance(public_law_restriction.documents, list) and \
                    len(public_law_restriction.documents) == 0:
        raise ValueError('Restrictions on landownership without legal provision are only allowed '
                         'in reduced extracts!')
%>
<RestrictionOnLandownership>
    <Information>
        <%include file="multilingual_m_text.xml" args="text=public_law_restriction.information"/>
    </Information>
    <%include file="theme.xml" args="theme=public_law_restriction.theme"/>
    %if public_law_restriction.sub_theme:
    <SubTheme>${public_law_restriction.sub_theme}</SubTheme>
    %endif
    %if public_law_restriction.other_theme:
    <OtherTheme>${public_law_restriction.other_theme}</OtherTheme>
    %endif
    %if public_law_restriction.type_code:
    <TypeCode>${public_law_restriction.type_code}</TypeCode>
    %endif
    %if public_law_restriction.type_code_list:
    <TypeCodelist>${public_law_restriction.type_code_list}</TypeCodelist>
    %endif
    %if public_law_restriction.law_status:
    <Lawstatus>
        <%include file="law_status.xml" args="law_status=public_law_restriction.law_status"/>
    </Lawstatus>
    %endif
    %if public_law_restriction.area:
    <AreaShare>${public_law_restriction.area}</AreaShare>
    <AreaUnit>${public_law_restriction.area_unit}</AreaUnit>
    %endif
    %if public_law_restriction.part_in_percent:
    <PartInPercent>${public_law_restriction.part_in_percent}</PartInPercent>
    %endif
    %if public_law_restriction.length:
    <LengthShare>${public_law_restriction.length}</LengthShare>
    <LengthUnit>${public_law_restriction.length_unit}</LengthUnit>
    %endif
    %if params.images:
    <Symbol>${public_law_restriction.symbol.encode()}</Symbol>
    %else:
    <SymbolRef>
        ${get_symbol_ref(request, public_law_restriction)|u}
    </SymbolRef>
    %endif
    %for geometry in public_law_restriction.geometries:
    <%include file="geometry.xml" args="geometry=geometry"/>
    %endfor
    <Map>
        <%include file="view_service.xml" args="map=public_law_restriction.view_service"/>
    </Map>
    %for document in public_law_restriction.documents:
    <LegalProvisions  xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="Document">
        <%include file="document.xml" args="document=document"/>
    </LegalProvisions>
    %endfor
    <ResponsibleOffice>
        <%include file="office.xml" args="office=public_law_restriction.responsible_office"/>
    </ResponsibleOffice>
</RestrictionOnLandownership>